<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>POST XENO — Store</title>
  <meta name="description" content="POST XENO store." />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="apple-touch-icon" href="/favicon.png" />

  <!-- Fonts -->
  <link rel="preload" href="/fonts/redseven.ttf?v=2" as="font" type="font/ttf" crossorigin>
  <link rel="preload" href="/fonts/MakinasJP.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/px-cyrhead.woff2" as="font" type="font/woff2" crossorigin>

  <style>
    /* ------------------ FONTS ------------------ */
    @font-face {
      font-family: "Red Seven";
      src: url("/fonts/redseven.ttf?v=2") format("truetype");
      font-display: swap;
      font-weight: 400;
      font-style: normal;
    }

    @font-face {
      font-family: "MakinasJP";
      src: url("/fonts/MakinasJP.woff2") format("woff2");
      font-display: swap;
      font-weight: 400;
      font-style: normal;
    }

    @font-face {
      font-family: "PX-CyrHead";
      src: url("/fonts/px-cyrhead.woff2") format("woff2");
      font-display: swap;
      font-weight: 600;
      font-style: normal;
    }

    :root { --bg:#0a0a0a; --card:#141414; --muted:#9aa0a6; --text:#e8eaed; --border:#222; --accent:#fff; }
    * { box-sizing: border-box }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans JP", sans-serif;
    }
    a { color: inherit; text-decoration: none }

    header, footer { max-width: 1100px; margin: 0 auto; padding: 20px }
    header { display: flex; align-items: center; justify-content: space-between; gap: 16px }

    .brand { display: inline-flex; flex-direction: column; align-items: flex-end; gap: 4px; }
    .brand h1 {
      margin: 0; font-size: 36px; letter-spacing: .05em;
      font-family: "Red Seven", sans-serif;
    }
    .brand-sub { font-family: "MakinasJP"; font-size: 19px; color: var(--muted); }

    nav { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; justify-content: flex-end; }
    .chip {
      padding: 6px 10px; border: 1px solid var(--border);
      border-radius: 999px; color: var(--muted); font-size: 12px;
      background: transparent; cursor: pointer; transition: all .2s;
    }

    .lang-switch { display: flex; gap: 8px; }
    .lang-btn.active { background: #fff; color: #000; border-color: #fff; font-weight: 700; }

    .wrap { max-width: 1100px; padding: 20px; margin: 0 auto }
    .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px }
    @media (max-width: 1100px) { .grid { grid-template-columns: 1fr 1fr 1fr } }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr 1fr } }
    @media (max-width: 640px) { .grid { grid-template-columns: 1fr } }

    .card {
      background: linear-gradient(180deg, #151515, #101010);
      border: 1px solid var(--border); border-radius: 20px; padding: 16px;
      display: flex; flex-direction: column; gap: 14px;
    }

    .title { font-weight: 600; }

    .price { color: var(--accent); font-weight: 700; font-size: 18px }
    .btn {
      padding: 10px 12px; border-radius: 12px; border: 1px solid var(--border);
      background: #ffffff10; color: var(--text); font-weight: 600;
      cursor: pointer;
    }

    /* Placeholder (for non-jacket products) */
    .ph {
      width: 100%; height: 220px; border-radius: 16px;
      background: linear-gradient(180deg, #1b1b1b, #0f0f0f);
      border: 1px solid var(--border);
      display: flex; justify-content: center; align-items: center;
      color: #6b7280;
    }

    /* ------------------ JACKET CAROUSEL ------------------ */
    .carousel {
      width: 100%;
      aspect-ratio: 1 / 1;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border);
      background: #000;
      position: relative;
    }

    .carousel-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      cursor: pointer;
    }

    .carousel-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 34px; height: 34px;
      border-radius: 50%;
      background: rgba(0,0,0,0.55);
      color: #fff;
      border: 1px solid #444;
      display: flex; justify-content: center; align-items: center;
      cursor: pointer;
      z-index: 10;
      font-size: 20px;
    }

    .carousel-arrow.left { left: 10px; }
    .carousel-arrow.right { right: 10px; }

    /* ------------------ FULLSCREEN IMAGE MODAL ------------------ */
    #imageModal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(3px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    #imageModal[hidden] { display: none; }

    #imageModal img {
      max-width: 90vw;
      max-height: 90vh;
      border-radius: 12px;
    }

    .img-modal-close {
      position: absolute;
      top: 20px; right: 20px;
      font-size: 32px; color: white;
      background: transparent; cursor: pointer;
    }
  </style>
</head>

<body class="ja-active">

  <header>
    <div class="brand">
      <h1>POST XENO</h1>
      <div class="brand-sub">ポストゼノ</div>
    </div>

    <nav>
      <a class="chip" href="mailto:postxenohelp@gmail.com">お問い合わせ</a>
      <a class="chip" href="https://www.instagram.com/post_xeno" target="_blank">ギャラリー</a>
      <button id="openCart" class="chip cart-toggle">カート <span id="cartCount" class="cart-count" hidden>0</span></button>

      <div class="lang-switch">
        <button class="chip lang-btn" data-lang="ja">日本語</button>
        <button class="chip lang-btn" data-lang="en">English</button>
        <button class="chip lang-btn" data-lang="ru">Русский</button>
      </div>
    </nav>
  </header>

  <main class="wrap">
    <section class="grid">

      <!-- ---------------- PRODUCT 1 ---------------- -->
      <article class="card" data-id="belt-chain" data-name-en="POST XENO Belt Chain Accessory" data-pricejpy="5000">
        <div class="ph">IMAGE COMING SOON</div>
        <div class="title">POST XENO ベルトチェーンアクセサリー</div>
        <div class="row"><div class="price">¥5,000</div><button class="btn add">カートに追加</button></div>
      </article>

      <!-- ---------------- PRODUCT 2 — FUR JACKET (CAROUSEL) ---------------- -->
      <article class="card" data-id="fur-jacket" data-name-en="POST XENO Fur Jacket" data-pricejpy="30000">

        <div class="carousel" id="jacketCarousel">
          <button class="carousel-arrow left" data-dir="prev">‹</button>

          <img src="/images/JP01.jpg" class="carousel-image" data-large="/images/JP01.jpg">

          <button class="carousel-arrow right" data-dir="next">›</button>
        </div>

        <div class="title">POST XENO ファージャケット</div>
        <div class="row"><div class="price">¥30,000</div><button class="btn add">カートに追加</button></div>
      </article>

      <!-- ---------------- PRODUCT 3 ---------------- -->
      <article class="card" data-id="fallen-angel-tee-black" data-pricejpy="8000">
        <div class="ph">IMAGE COMING SOON</div>
        <div class="title">POST XENO フォールンエンジェルTシャツ（ブラック）</div>
        <div class="row"><div class="price">¥8,000</div><button class="btn add">カートに追加</button></div>
      </article>

      <!-- ---------------- PRODUCT 4 ---------------- -->
      <article class="card" data-id="fallen-angel-tee-grey" data-pricejpy="8000">
        <div class="ph">IMAGE COMING SOON</div>
        <div class="title">POST XENO フォールンエンジェルTシャツ（グレー）</div>
        <div class="row"><div class="price">¥8,000</div><button class="btn add">カートに追加</button></div>
      </article>

    </section>
  </main>

  <!-- ---------------- FULLSCREEN MODAL ---------------- -->
  <div id="imageModal" hidden>
    <button class="img-modal-close">×</button>
    <img id="modalImage" src="">
  </div>

  <!-- ---------------- JAVASCRIPT ---------------- -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      /* ================= CAROUSEL ================= */
      const jacketImages = [
        "/images/JP01.jpg",
        "/images/JP02.jpg",
        "/images/JP03.jpg"
      ];

      const carousel = document.getElementById("jacketCarousel");
      const carouselImg = carousel.querySelector(".carousel-image");
      let current = 0;

      function showImage(i) {
        current = (i + jacketImages.length) % jacketImages.length;
        carouselImg.src = jacketImages[current];
        carouselImg.dataset.large = jacketImages[current];
      }

      carousel.querySelector("[data-dir='prev']").onclick = () => showImage(current - 1);
      carousel.querySelector("[data-dir='next']").onclick = () => showImage(current + 1);

      showImage(0);

      /* ================= POPUP MODAL ================= */
      const modal = document.getElementById("imageModal");
      const modalImg = document.getElementById("modalImage");
      const modalClose = document.querySelector(".img-modal-close");

      carouselImg.addEventListener("click", () => {
        modalImg.src = carouselImg.dataset.large;
        modal.hidden = false;
        document.body.style.overflow = "hidden";
      });

      modalClose.addEventListener("click", () => {
        modal.hidden = true;
        document.body.style.overflow = "";
      });

      modal.addEventListener("click", e => {
        if (e.target === modal) {
          modal.hidden = true;
          document.body.style.overflow = "";
        }
      });

    });
  </script>

  <footer style="text-align:center; padding:20px; font-size:12px; color:#777;">
    © 2025 POST XENO —
    <a href="./legal.html" style="color:#777;">法的情報 / Legal Information</a>
  </footer>

</body>
</html>
